<aura:component controller="AccountController" implements="flexipage:availableForAllPageTypes,force:appHostable,force:lightningQuickAction"  access="global" >    
    
    <aura:attribute name="completeWrapper" type="array"/>
    <aura:attribute name="Id" type="String" default="0017F00000NmF4rQAF"/>
    <aura:attribute name="contactRecordsDelete" type="List" default="[]"/>
    <aura:attribute name="emailRecordsDelete" type="List" default="[]"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler name="getContactRecordToRemove" event="c:GetIndex" action="{!c.handleRemoveContactDetails}"/>
    
    <div class="demo-only demo-only--sizing slds-grid slds-wrap">        
        <div class="slds-size_1-of-2">
            <div class="slds-text-align_center slds-m-around_x-small">
                <lightning:input aura:id="accountName" name="accountName" label="Account Name"
                                 value="{!v.completeWrapper.accountRecord.Name}" required="true"/>
            </div>
        </div>
        <div class="slds-size_1-of-2">
            <div class="slds-text-align_center slds-m-around_x-small">
                <lightning:input aura:id="accountPhone" name="accountPhone" label="Account Phone"
                                 value="{!v.completeWrapper.accountRecord.Phone}"/>
            </div>
        </div>
        <div class="slds-size_1-of-2">
            <div class="slds-text-align_center slds-m-around_x-small">
                <lightning:input aura:id="accountNumberOfEmployees" name="accountNumberOfEmployees" label="Number Of Employees"
                                 value="{!v.completeWrapper.accountRecord.NumberOfEmployees}"/>
            </div>
        </div>
        <div class="slds-size_1-of-2">
            <div class="slds-text-align_center slds-m-around_x-small">
                <lightning:input aura:id="accountDescription" name="accountDescription" label="Account Description"
                                 value="{!v.completeWrapper.accountRecord.Description}"/>
            </div>
        </div>
    </div>
    <br/>
    
    <div class="slds-page-header" role="banner"> 
        <div class="slds-col slds-has-flexi-truncate">
            <div class="slds-text-heading_medium">Contacts Details :</div>
        </div>
    </div>
    
    <table class="slds-table slds-table--cell-buffer">  
        <tbody>
            <aura:iteration items="{!v.completeWrapper.contactsList}" var="individual" indexVar="index" >
                <c:contactComponent contactRecordWrapper="{!individual}" index="{!index}" emailRecordsDelete="{!v.emailRecordsDelete}" />
            </aura:iteration>
        </tbody> 
    </table>
    <br/>
    
    <div class="slds-form-element" >
        <button class="slds-button slds-button--neutral" onclick="{!c.addContact}">Add Contacts</button>
    </div>
    
    <div align="center" class="slds-form-element" style="margin:1% 1.2%;">
        <button class="slds-button slds-button--brand" 
                onclick="{!c.upsertAccount}">Submit</button>
        <button class="slds-button slds-button--brand" 
                onclick="{!c.cancelButton}" style="margin-right:0.6%;">Cancel</button>
    </div>
    
</aura:component>